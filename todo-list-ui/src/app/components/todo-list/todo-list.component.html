<app-spinner [loading]="loading()"></app-spinner>

<section class="todo">
  <h1>TODOs</h1>

  <div class="actions">
    <input matInput placeholder="Search..." [(ngModel)]="searchTerm" />
    <button mat-raised-button color="primary" (click)="openAddDialog()">Add TODO</button>
  </div>

  <div class="list" *ngIf="filteredTodos.length; else empty">
    <ul>
      <li *ngFor="let item of filteredTodos; trackBy: trackById">
        <span>{{ item.title }}</span>
        <button mat-icon-button color="primary" (click)="openEditDialog(item)">✎</button>
        <button mat-icon-button color="warn" (click)="confirmDelete(item)">✕</button>
      </li>
    </ul>
  </div>

  <ng-template #empty>
    <p class="empty">No TODOs yet. Add one above.</p>
  </ng-template>

  <p *ngIf="error()" class="error">{{ error() }}</p>
</section>
